(this["webpackJsonpquick-stream"]=this["webpackJsonpquick-stream"]||[]).push([[0],{21:function(e,t,n){},31:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=31},37:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(14),o=n.n(r),s=(n(21),n(7)),i=n(2),j=n(6),u=n(1),d=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"HomeScreen"}),Object(u.jsx)(s.b,{to:"/stream",children:"Create a stream"}),Object(u.jsx)("h2",{children:"Watch a stream"}),Object(u.jsx)("input",{type:"text",name:"streamId",placeholder:"paste stream id",onChange:function(e){a(e.target.value)}}),Object(u.jsx)(s.b,{to:"watch/".concat(n),children:"Watch Stream"})]})},b=n(8),h=n.n(b),O=n(9),l=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),o=Object(j.a)(r,2),s=o[0],i=o[1],d=Object(c.useRef)(),b=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return Object(c.useEffect)((function(){var e=Object(O.uuid)();!function(){var t=new h.a(e,{host:"/",port:8080,path:"/peerjs"});b({video:!0,audio:!0},(function(e){d.current.srcObject=e,i(e)})),t.on("open",(function(e){a(e)})),t.on("connection",(function(e){t.call(e.peer,s),e.on("data",(function(e){console.log(e)}))}))}()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Create Stream"}),Object(u.jsx)("video",{ref:d,muted:!0,autoPlay:!0}),Object(u.jsx)("p",{children:n})]})},f=function(){var e=Object(i.f)().streamId,t=Object(c.useRef)();return Object(c.useEffect)((function(){var n=Object(O.uuid)(),c=new h.a(n,{host:"/",port:8080,path:"/peerjs"}),a=c.connect(e);a.on("open",(function(){a.send("hello"),a.on("data",(function(e){console.log(e)}))})),c.on("call",(function(e){e.answer(),e.on("stream",(function(e){t.current.srcObject=e}))}))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Watch stream"}),Object(u.jsx)("video",{ref:t,muted:!0,autoPlay:!0})]})};var x=function(){return Object(u.jsx)(s.a,{className:"App",children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{path:"/",exact:!0,children:Object(u.jsx)(d,{})}),Object(u.jsx)(i.a,{path:"/stream",children:Object(u.jsx)(l,{})}),Object(u.jsx)(i.a,{path:"/watch/:streamId",children:Object(u.jsx)(f,{})})]})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),p()}},[[37,1,2]]]);
//# sourceMappingURL=main.5c98bca5.chunk.js.map